<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • TreatmentPatterns</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">TreatmentPatterns</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/bestPractices.html">Best practices</a></li>
    <li><a class="dropdown-item" href="../articles/ComputingTreatmentPathways.html">Computing Treatment Pathways</a></li>
    <li><a class="dropdown-item" href="../articles/DefiningCohorts.html">Defining Cohorts</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/darwin-eu/TreatmentPatterns/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Changelog</h1>
      <small>Source: <a href="https://github.com/darwin-eu/TreatmentPatterns/blob/v3.0.1/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="3.0.1" id="id_-treatmentpatterns-301"># TreatmentPatterns 3.0.1<a class="anchor" aria-label="anchor" href="#id_-treatmentpatterns-301"></a></h2><p class="text-muted">CRAN release: 2025-03-10</p>
<ul><li>Deprecated shiny app</li>
<li>Removed shiny-related dependencies</li>
<li>Added ggplot2 version of sunburst plot</li>
<li>Fixed failing examples</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="3.0.0" id="id_-treatmentpatterns-300"># TreatmentPatterns 3.0.0<a class="anchor" aria-label="anchor" href="#id_-treatmentpatterns-300"></a></h2><p class="text-muted">CRAN release: 2025-02-06</p>
<ul><li>Save parameters from <code><a href="../reference/computePathways.html">computePathways()</a></code> and <code><a href="../reference/export.html">export()</a></code>
</li>
<li>A <code>TreatmentPatternsResults</code> (TPR) object is now returned from <code><a href="../reference/export.html">export()</a></code>
</li>
<li>Updated output file and column names to be snake_case rather than camelCase
<ul><li>The TPR object houses all the different tables, and has methods for plotting.</li>
<li>Writing CSV-files on <code><a href="../reference/export.html">export()</a></code> is now optional (<code>export(outputPath = "some/path/")</code>)</li>
<li>The TPR object has the following methods: <code>saveAsCsv()</code>, <code>saveAsZip()</code>, <code>uploadResultsToDb()</code>, <code><a href="https://rdrr.io/r/base/load.html" class="external-link">load()</a></code>, <code>plotSunburst()</code>, <code>plotSankey()</code>, <code><a href="../reference/plotEventDuration.html">plotEventDuration()</a></code>
</li>
<li>The TPR object has the following fields:, <code>attrition</code>, <code>metadata</code>, <code>treatment_pathways</code>, <code>summary_event_duration</code>, <code>counts_age</code>, <code>counts_sex</code>, <code>counts_year</code>, <code>cdm_source_info</code>, <code>analyses</code>, <code>arguments</code>
</li>
</ul></li>
<li>Added <code>ResultModelManager</code> support</li>
<li>Multiple <code>target</code> cohorts are now supported</li>
<li>Allow <code>target</code>, <code>event</code>, and <code>exit</code> cohorts to be in different tables</li>
<li>Stratification is now optional <code>export(stratify = TRUE)</code>
</li>
<li>When data is pulled from the database, subjects are assigned a new subject ID. This prevents rounding subject ID’s, and unintentional grouping of subjects.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.7.0" id="id_-treatmentpatterns-270"># TreatmentPatterns 2.7.0<a class="anchor" aria-label="anchor" href="#id_-treatmentpatterns-270"></a></h2><p class="text-muted">CRAN release: 2024-11-27</p>
<ul><li>Converted subject_id’s to pseudo_subject_id’s when pulling in data from the database. Actual subject_id’s are stored as <code><a href="https://rdrr.io/r/base/character.html" class="external-link">character()</a></code>.</li>
<li>Added copyright statements in R-files.</li>
<li>Renamed <code>periodPriorToIndex</code> to <code>indexDateOffset</code>.</li>
<li>Added life cycle badge to ReadMe</li>
<li>Added more informative error / warning messaging when no data is available to compute pathways.</li>
<li>Extended output for event duration in pathways.</li>
<li>Renamed <code>summaryStatsTherapyDuration.csv</code> to <code>summaryEventDuration.csv</code>.</li>
<li>Updated status messaging in the console.</li>
<li>Added <code>attrition.csv</code> that capture status messaging and time stamps.</li>
<li><h2 id="id_-treatmentpatterns-269" class="pkg-version" data-toc-text="2.7.0"># TreatmentPatterns 2.6.9</h2><p class="text-muted">CRAN release: 2024-11-27</p></li>
<li>Disabled tests when required suggested packages are not available.</li>
<li>Updated examples to only run when required suggested packages are available.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.6.8" id="id_-treatmentpatterns-268"># TreatmentPatterns 2.6.8<a class="anchor" aria-label="anchor" href="#id_-treatmentpatterns-268"></a></h2><p class="text-muted">CRAN release: 2024-08-29</p>
<ul><li>Updated some tests to work with later versions of omopgenerics.</li>
<li>Fixed issue with where combinations sometimes got miss-classified.</li>
<li>Fixed issue when event starts and ends on end-date of target.</li>
<li>Fixed issue when collapsing events when there is also a combination, when <code>filterTreatments = "All"</code>.</li>
<li>Added check in tests to only run if packages are availible. (noSuggests, M1).</li>
<li>
<code><a href="../reference/createSankeyDiagram.html">createSankeyDiagram()</a></code> now supports pathways over 3 levels long.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.6.7" id="id_-treatmentpatterns-267"># TreatmentPatterns 2.6.7<a class="anchor" aria-label="anchor" href="#id_-treatmentpatterns-267"></a></h2><p class="text-muted">CRAN release: 2024-05-24</p>
<ul><li>Updated URLs in description</li>
<li>Updated examples to fix compatibility with CDMConnector &gt;1.4.0</li>
<li>Updated so more tests run on CRAN</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.6.6" id="id_-treatmentpatterns-266"># TreatmentPatterns 2.6.6<a class="anchor" aria-label="anchor" href="#id_-treatmentpatterns-266"></a></h2><p class="text-muted">CRAN release: 2024-04-16</p>
<ul><li>Internal update to shinyApp.</li>
<li>Update to createSankeyDiagram() to properly handle combinations consisting of &gt;2.</li>
<li>Added article to package website about best practices.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.6.5" id="id_-treatmentpatterns-265"># TreatmentPatterns 2.6.5<a class="anchor" aria-label="anchor" href="#id_-treatmentpatterns-265"></a></h2><p class="text-muted">CRAN release: 2024-02-19</p>
<ul><li>Removed stringi, rjson, and googleVis as dependencies.</li>
<li>Fixed unit tests that had dummy data outside of observation data.</li>
<li>Fix for complex edge-case paths with re-occuring treatments.</li>
<li>Added unit tests for edge-cases.</li>
<li>Added warning when <code>minEraDuration</code> &gt; <code>minPostCombinationWindow</code> or <code>combinationWindow</code>.</li>
<li>Fixed issue when <code>filterTreatments</code> was set to <code>"changes"</code>, age and sex columns were dropped from output.</li>
<li>datatypes of cohort_table are now checked.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.6.4" id="id_-treatmentpatterns-264"># TreatmentPatterns 2.6.4<a class="anchor" aria-label="anchor" href="#id_-treatmentpatterns-264"></a></h2><p class="text-muted">CRAN release: 2024-01-26</p>
<ul><li>Fixed issue with minPostCombinationWindow broken by the fix for re-occurring treatments.</li>
<li>Added unit tests for minPostCombinationWindow.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.6.3" id="id_-treatmentpatterns-263"># TreatmentPatterns 2.6.3<a class="anchor" aria-label="anchor" href="#id_-treatmentpatterns-263"></a></h2><p class="text-muted">CRAN release: 2024-01-25</p>
<ul><li>Fixed issue where there were duplicate rows in the exported treatmentPathways.csv file.</li>
<li>Added more comprehensive description for parameter <code>ageWindow</code> for <code><a href="../reference/export.html">export()</a></code>.</li>
<li>Added additional tests validating the counts per pathway being exported by <code><a href="../reference/export.html">export()</a></code>.</li>
<li>Fixed issue with re-occurring treatments in pathways.</li>
<li>Added dedicated logical tests for various pathways.</li>
<li>Added dedicated tests for target-event cohort overlaps.</li>
<li>Fixed spelling error in outputs, and interaction with them in shiny module.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.6.2" id="id_-treatmentpatterns-262"># TreatmentPatterns 2.6.2<a class="anchor" aria-label="anchor" href="#id_-treatmentpatterns-262"></a></h2><p class="text-muted">CRAN release: 2023-12-13</p>
<ul><li>Fixed spelling mistake ‘summaryStatsTherapyDuraion’ to ‘summaryStatsTherapyDuration’.</li>
<li>Added error when only one level of data is available in the data when computing a sankey diagram.</li>
<li>Removed <code>createSankeyDiagram</code>
</li>
<li>Renamed <code>createSankeyDiagram2</code> to <code>createSankeyDiagram</code>
</li>
<li>Removed <code>createSunburstPlot</code>
</li>
<li>Renamed <code>createSunburstPlot2</code> to <code>createSunburstPlot</code>
</li>
<li>Fixed issue where target cohorts had to be at least 1 day long to be included when using DatabaseConnector.</li>
<li>Fixed CRAN error when running examples.</li>
<li>Renamed <code>cellCount</code> to <code>minCellCount</code> in export documentation.</li>
<li>Fixed issue where counts of pathways were not computed correctly.</li>
<li>Fixed spelling error <code>summaryStatsTherapyDuraion</code> to <code>summaryStatsTherapyDuration</code>.</li>
<li>Fixed issue in <code>export</code> where merging two tables could fail, if one was empty.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.6.1" id="id_-treatmentpatterns-261"># TreatmentPatterns 2.6.1<a class="anchor" aria-label="anchor" href="#id_-treatmentpatterns-261"></a></h2><p class="text-muted">CRAN release: 2023-12-11</p>
<ul><li>Bumped R version to 4.2.1</li>
<li>Added additional unit-tests for <code>createSunburstPlot2()</code> and <code>createSankeyDiagram2()</code>
</li>
<li>Updated to use DATEDIFF to compute difference between dates when fetching data from the database.</li>
<li>Added functionality to choose how groups below the minimum cell count are censored.</li>
<li>Made some parameters ambiguous for <code>createSankeyDiagram2</code> and <code>createSunburstPlot2()</code> for more control over the figures.</li>
<li>Removed <code>addNoPath</code> parameter.</li>
<li>Renamed <code>minFreq</code> parameter to <code>minCellCount</code>.</li>
<li>Added Shiny app with exported module classes.</li>
<li>Added censoring options of treatment pathways falling below the <code>minCellCount</code>.</li>
<li>Simplified part of <code><a href="../reference/computePathways.html">computePathways()</a></code>.</li>
<li>Significantly improved performance of <code><a href="../reference/export.html">export()</a></code>.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.6.0" id="id_-treatmentpatterns-260"># TreatmentPatterns 2.6.0<a class="anchor" aria-label="anchor" href="#id_-treatmentpatterns-260"></a></h2><p class="text-muted">CRAN release: 2023-11-13</p>
<ul><li>Added <code>createSunburstPlot2()</code> as a replacement of <code><a href="../reference/createSunburstPlot.html">createSunburstPlot()</a></code>. <code>createSunburstPlot2()</code> will fully replace <code><a href="../reference/createSunburstPlot.html">createSunburstPlot()</a></code> in a future version.</li>
<li>Moved <code>DatabaseConnector</code> and <code>SqlRender</code> to Suggests</li>
<li>Removed obsolete dependencies: <code>data.table</code>, <code>fs</code>, and <code>glue</code>.</li>
<li>Internal performance updates.</li>
<li>Internal code style updates.</li>
<li>Moved basic filtering when fetching cohort table.</li>
<li>Updated ReadMe with functionalities</li>
<li>Internal updates to LRFS paths, to allow paths of identical duration.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.5.2" id="id_-treatmentpatterns-252"># TreatmentPatterns 2.5.2<a class="anchor" aria-label="anchor" href="#id_-treatmentpatterns-252"></a></h2><p class="text-muted">CRAN release: 2023-09-15</p>
<ul><li>Resolved issue with finalize method of CDMInterface class.</li>
<li>Resolved issue with schema references.</li>
<li>Unified case style.</li>
<li>Refactored code for <code><a href="../reference/createSunburstPlot.html">createSunburstPlot()</a></code>.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.5.1" id="id_-treatmentpatterns-251"># TreatmentPatterns 2.5.1<a class="anchor" aria-label="anchor" href="#id_-treatmentpatterns-251"></a></h2><p class="text-muted">CRAN release: 2023-09-07</p>
<ul><li>Added checks for user input: <code>cohorts</code> and <code>cohortTableName</code>.</li>
<li>Added option to directly return HTML when using <code>createSankeyDiagram</code>.</li>
<li>Added option to directly return HTML when using <code>createSunburstPlot</code>.</li>
<li>Added option for ageWindow to be a vector.</li>
<li>Added input checking for <code><a href="../reference/export.html">export()</a></code>.</li>
<li>Added additional check for frequency for <code>createSunburstPlot</code>.</li>
<li>Resolved issue in <code>createSunburstPlot</code>, when converting from data.table to nested JSON.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.5.0" id="id_-treatmentpatterns-250"># TreatmentPatterns 2.5.0<a class="anchor" aria-label="anchor" href="#id_-treatmentpatterns-250"></a></h2><p class="text-muted">CRAN release: 2023-08-16</p>
<ul><li>Updated interface</li>
<li>Some internal OO usage</li>
<li>CDM &amp; DatabaseConnector</li>
<li>Uses Andromeda to be able to handle bigger than RAM data sets.
<ul><li>Shift from data.table to dplyr.</li>
</ul></li>
<li>Updated vignettes using new interface</li>
<li>General code clean up</li>
<li>Intermediate files are cached and accessable through Andromeda for review.</li>
<li>Outputted CSV-files re-imagined to be more flexible for use post TreatmentPatterns.</li>
<li>Sunburst and Sankey plots are now directly usable with treatmentPathways.csv.</li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Aniek Markus, Maarten van Kessel.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

